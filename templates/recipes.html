<!-- Jinja child template, inheritance code to parent template, base.html. -->
{% extends 'base.html'%} {% block content %}

<div class="row">
    <h4>Raw Dessert Recipes</h4>
    <h6><strong>Like and Share Website </strong>
        <!-- Like button BEGIN. Code coped from https://likebtn.com/en/ -->
        <span class="likebtn-wrapper" data-theme="custom" data-icon_l="hrt5" data-icon_l_c_v="#fb0547" data-identifier="item_1" data-dislike_enabled="false" data-counter_frmt="comma" data-popup_position="right" data-popup_style="dark"></span>
        <script>
            (function(d, e, s) { if (d.getElementById("likebtn_wjs")) return;
                a = d.createElement(e);
                m = d.getElementsByTagName(e)[0];
                a.async = 1;
                a.id = "likebtn_wjs";
                a.src = s;
                m.parentNode.insertBefore(a, m) })(document, "script", "//w.likebtn.com/js/w/widget.js");
        </script>
        <!-- Like button END -->
</div>

<div class="row">
    <ul class="collapsible popout">
        <!-- 'Recipe' represents each mongoDB document in the collection and 'recipes' is the collection passed back. -->
        {% for recipe in recipes %}
        <li>
            <div class="collapsible-header">
                <div class="col s12">
                    <i class="material-icons">arrow_drop_down</i>
                    <font size="4">
                        <strong>{{recipe.recipe_title}}</strong>
                        <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Posted -  </strong>{{recipe.date_posted}}
                    </font>
                </div>
                <div class="col s3">
                    <a href="{{url_for('edit_recipe', recipe_id=recipe._id)}}" class="waves-effect waves-light btn btn_small black">Edit</a>
                    <a href="{{url_for('delete_recipe', recipe_id=recipe._id)}}" class="waves-effect waves-light btn btn_small red">Delete</a>
                </div>
            </div>
            <div class="collapsible-body">
                <span>
                <h6><strong>Description</strong></h6>
            <!-- Access key value pair within each mongoDB document. -->
              {{recipe.description}}  
            </span>
            </div>
            <div class="collapsible-body">
                <span>
                <h6><strong>Ingredients</strong></h6>
              {{recipe.ingredients}}  
            </span>
            </div>
            <div class="collapsible-body">
                <span>
                <h6><strong>Instructions</strong></h6>
              {{recipe.instructions}}  
            </span>
            </div>
            <div class="collapsible-body">
                <span>
              <h6><strong>Author&nbsp;&nbsp;</strong>{{recipe.author_name}}</h6>
            </div>
        </li>
        {% endfor %}
    </ul>
</div>

<!-- Jinja child template, inheritance code to parent template, base.html. -->
{% endblock %}
